<!DOCTYPE html>
<html>
<head>
    <title>Consuming JWT with Jquery and Vuejs</title>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.js" type="text/javascript"></script>
    <script type="text/javascript" src="js/jquery.cookie.js"></script>

    <script>
        $(document).ready(function () {
            $("form").submit(function (event) {
                var _email = $('#email').val();
                var _password = $('#password').val();
                

                $.ajax({
                    url: 'http://localhost:9908/api/auth/token',
                    headers: {
                        "Authorization": "Basic " + btoa(_email + ":" + _password)
                    },
                    method: 'POST',
                    dataType: 'json',
                    contentType: 'application/json; charset=utf-8',
                    success: function (data) {
                        $.cookie('token', data.token);
                        alert($.cookie('token'));
                    }
                })
            })
        });
    </script>
</head>
<body>
    <h1> Consuming JWT with Jquery</h1>
    <form id="form">
        <input type="email" name="email" id="email">
        <input type="password" name="password" id="password">
        <input type="submit" name="submit" value="Log In">
    </form>
</body>
</html>